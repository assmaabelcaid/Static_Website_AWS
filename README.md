# Static Website Deployment on AWS S3 with CloudFront Using Terraform

This guide provides a complete walkthrough for setting up and deploying a static website hosted on **AWS S3**, served through **CloudFront**, using **Terraform**.

---

## Requirements

Before you begin, ensure the following:

- An AWS account with root or admin access

Install the following elements
-  [Terraform installation page ](https://developer.hashicorp.com/terraform/install). Eventually install Terraform Plugin for your IDE
  - After installation, verify with: 
     ```bash
      terraform version
      ```

  - [AWS CLI installation page](https://aws.amazon.com/cli)
    - After installation, verify with:

     ```bash
     aws --version
     ```

---

## What to do

### Step 1: Create an IAM UserLog In to AWS

1. Go to the [AWS Console](https://aws.amazon.com)
2. Log in using your root account or an IAM user with admin privileges
3. Open the **IAM** service from the AWS Console
4. Click **Users** → **Create user**
5. Provide the following details:
   - **User name**: any of your choice
   - **Access type**:
     - Enable **Provide user access to the AWS Management Console**
     - Enable **I want to create an IAM user**
   - **Console password**: Choose *Autogenerated*
   - Uncheck **Require password reset**
6. Click **Next**

---

### Step 2: Permissions

1. Select **Attach policies directly**
2. Attach the following AWS-managed policies:
   - `AmazonS3FullAccess`
   - `CloudFrontFullAccess`
   - `IAMFullAccess`
3. Click **Next** and **Create user**
4. Download the `.csv` file with:
   - **Access Key ID**
   - **Secret Access Key**

---

### Step 3: Create Access Key (If Not Done Already)

1. In the IAM dashboard, go to **Users**
2. Select your new user → **Security credentials** tab
3. Click **Create access key**
4. Choose **Command Line Interface (CLI)** as the use case
5. Click through the prompts and download the credentials `.csv` file

---

### Step 4: Set Up the AWS CLI

1. Open your terminal or command prompt and change directory to your repository:

    ```bash
    cd path/to/repository
    ```
2. run:

    ```bash
    aws configure
    ```

3. When prompted, enter the following:
    - **Access Key ID**: From the downloaded CSV file
    - **Secret Access Key**: From the CSV file
    - **Region name**: `us-east-1` (or your preferred AWS region)
    - **Output format**: `json`
 
---

### Step 5: Initialize and Deploy with Terraform

1. Ensure the following files are in your working directory:
    - `main.tf`
    - `variables.tf`
    - `outputs.tf`
    - `index.html` of your choice

2. Initialize Terraform:

    ```bash
    terraform init
    ```

3. Validate the configuration:

    ```bash
    terraform validate
    ```

4. Create an execution plan:

    ```bash
    terraform plan
    ```

5. Apply the plan:

    ```bash
    terraform apply
    ```

    - Type the region when prompted
    - Type `yes` when prompted
    - Wait a few minutes for the resources to be created

---

### Step 6: Access the Website

1. From the response of the terminal, copy the **Distribution domain name**
4. Paste it into your browser to view your deployed static site

---

### Step 10: Destroy Infrastructure

To delete what has been done:

```bash
terraform destroy
```

- Type the region when prompted
- Confirm by typing `yes` when prompted

---

### Notes

- Always validate your configuration before applying it
- Consider using version control (e.g., Git) for your Terraform files
- Use IAM roles with limited permissions in production
- Remember to destroy unused infrastructure to prevent unnecessary costs

---

## Resources

- [Terraform Documentation](https://developer.hashicorp.com/terraform/docs)
- [AWS CLI Documentation](https://docs.aws.amazon.com/cli/latest/userguide/)
- [AWS CloudFront Overview](https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Introduction.html)
- [Amazon S3 Static Website Hosting](https://docs.aws.amazon.com/AmazonS3/latest/userguide/WebsiteHosting.html)
